"use strict";(self.webpackChunkfana_docs=self.webpackChunkfana_docs||[]).push([[238],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,k=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7764:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={id:"using-react-sdk"},i="Using the React SDK",l={unversionedId:"sdk/using-react-sdk",id:"sdk/using-react-sdk",title:"Using the React SDK",description:"1. Install the Fana React SDK in your project by running npm i fana-react-sdk",source:"@site/docs/sdk/using-react-sdk.md",sourceDirName:"sdk",slug:"/sdk/using-react-sdk",permalink:"/fana-docs/docs/sdk/using-react-sdk",draft:!1,editUrl:"https://github.com/fana-io/fana-docs/docs/sdk/using-react-sdk.md",tags:[],version:"current",frontMatter:{id:"using-react-sdk"},sidebar:"docs",previous:{title:"SDK Keys",permalink:"/fana-docs/docs/sdk/sdk-keys"},next:{title:"React SDK Reference",permalink:"/fana-docs/docs/sdk/react-sdk-reference"}},s={},c=[],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"using-the-react-sdk"},"Using the React SDK"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Install the Fana React SDK in your project by running ",(0,r.kt)("inlineCode",{parentName:"li"},"npm i fana-react-sdk")),(0,r.kt)("li",{parentName:"ol"},"Import the following files into your React project's ",(0,r.kt)("inlineCode",{parentName:"li"},"App.js")," file")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"import { FanaConfig, FanaProvider } from 'fana-react-sdk'")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Use the ",(0,r.kt)("inlineCode",{parentName:"li"},"FanaSDK"),"'s ",(0,r.kt)("inlineCode",{parentName:"li"},"FanaConfig")," class constructor to instantiate a ",(0,r.kt)("inlineCode",{parentName:"li"},"config")," object. This constructor takes three arguments:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"React SDK key")," (from your dashboard's settings page)"),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("strong",{parentName:"li"},"address")," of your Flag Bearer"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"User Context"),": This is an object containing the attributes pertaining to the current user")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const config = new FanaConfig('react_key', 'http://localhost:3001', { userId: 'jjuy', beta: true })\n                              ^React SDK Key     ^Flag Bearer Address      ^User Context Object\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Next, wrap your outermost component in the ",(0,r.kt)("inlineCode",{parentName:"li"},"<FanaProvider>")," component. You will pass in your newly created ",(0,r.kt)("inlineCode",{parentName:"li"},"config")," instance as an argument to the ",(0,r.kt)("inlineCode",{parentName:"li"},"config")," prop.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"function App() {\n  return (\n    <FanaProvider config={config}>\n      <main>\n        <Header />\n        <Body />\n      </main>\n    </FanaProvider>\n  );\n}\n")),(0,r.kt)("p",null,"Now you can evaluate flags in any component you wish! Make sure to import React's ",(0,r.kt)("inlineCode",{parentName:"p"},"useContext")," hook, as well as the ",(0,r.kt)("inlineCode",{parentName:"p"},"FanaContext"),"."),(0,r.kt)("p",null,"Within your component, import React's ",(0,r.kt)("inlineCode",{parentName:"p"},"useContext")," as well as Fana's ",(0,r.kt)("inlineCode",{parentName:"p"},"FanaContext"),". Invoke ",(0,r.kt)("inlineCode",{parentName:"p"},"useContext(FanaContext)"),". This will provide you with the client instance which has access to the ",(0,r.kt)("inlineCode",{parentName:"p"},"evaluateFlag")," method."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'const fanaClient = useContext(FanaContext);\nconst betaHeader = fanaClient.evaluateFlag("beta_header", true);\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"evaluateFlag")," method takes two arguments: the flag key that you wish to evaluate, and an optional argument for a default value."),(0,r.kt)("p",null,"The optional argument will be false if no value is provided. This optional argument will only apply in cases where it cannot determine the value of the provided flag key. This may happen when connection with the Flag Bearer fails, or if the flag key simply does not exist."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"evaluateFlag")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," depending on how the user context was evaluated. Use this to determine what experience this particular user should receive."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'const experienceText = betaHeader ? "beta" : "regular";\n\nreturn <h1>Welcome to the {experienceText} experience!</h1>;\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note that this is a very simple example. You can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"evaluateFlag")," result to conditionally render entire components rather than just simple strings. Example below:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// if the beta_header flag key evaluates to true, render the <BetaHeader> component\n// otherwise, render the <RegularHeader> component\nreturn (\n  {fanaClient.evaluateFlag("beta_header", true) ?\n    <BetaHeader /> :\n    <RegularHeader />\n  }\n)\n')))}u.isMDXComponent=!0}}]);